<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Solaris Tarot</title>
    <style>
        :root {
            --bg-color: #1a1a1a;
            --card-back: #2e2e42;
            --card-face: #f4f1ea;
            --accent: #d4af37; /* Gold */
            --text-main: #e0e0e0;
            --text-dark: #1a1a1a;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Georgia', serif; /* Serif fits the classic text better */
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 {
            color: var(--accent);
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            margin: 10px 0 20px 0;
            text-align: center;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 10px;
            width: 100%;
            max-width: 600px;
        }

        .controls {
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
        }

        button {
            width: 100%;
            padding: 18px;
            border-radius: 4px;
            border: 1px solid var(--accent);
            background: var(--accent);
            color: var(--bg-color);
            font-size: 1.1rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.2);
            transition: transform 0.1s;
        }

        button:active {
            transform: scale(0.98);
        }

        .spread-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            width: 100%;
            max-width: 600px;
            padding-bottom: 50px;
        }

        /* Desktop Grid */
        @media (min-width: 768px) {
            .spread-container {
                flex-direction: row;
                align-items: flex-start;
                justify-content: center;
                max-width: 1000px;
            }
            .card-slot {
                flex: 1;
            }
        }

        .card-slot {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            perspective: 1000px;
        }

        .slot-label {
            margin-bottom: 10px;
            color: var(--accent);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: sans-serif;
        }

        .card {
            width: 100%;
            /* Classic Tarot Ratio */
            aspect-ratio: 2/3.5; 
            max-height: 500px; 
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            border-radius: 8px;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.6);
            border: 1px solid #444;
        }

        /* Card Back (Pattern) */
        .card-front {
            background-color: var(--card-back);
            background-image: repeating-linear-gradient(
                45deg,
                var(--card-back),
                var(--card-back) 10px,
                #3a3a52 10px,
                #3a3a52 20px
            );
        }
        
        .card-front::after {
            content: "âœ¦";
            font-size: 3rem;
            color: rgba(212, 175, 55, 0.5);
            border: 2px solid rgba(212, 175, 55, 0.5);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Card Face (Content) */
        .card-back {
            background-color: var(--card-face);
            color: var(--text-dark);
            transform: rotateY(180deg);
            text-align: center;
            border: 4px solid var(--accent);
        }

        .card-name {
            font-size: 1.3rem;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 10px;
            border-bottom: 2px solid var(--text-dark);
            padding-bottom: 5px;
            width: 100%;
        }

        .card-symbol {
            font-size: 3rem;
            margin: 10px 0;
        }

        .card-desc {
            font-size: 1rem;
            line-height: 1.5;
            font-style: italic;
            overflow-y: auto;
            max-height: 60%;
        }

        .reversed-tag {
            color: #b71c1c;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
            margin-bottom: 5px;
            display: none;
            font-family: sans-serif;
        }

        /* Reversal Visuals */
        .card.is-reversed .card-back .inner-content {
            transform: rotate(180deg);
        }
        .card.is-reversed .reversed-tag {
            display: block;
        }
    </style>
</head>
<body>

    <h1>Solaris Tarot</h1>

    <div class="controls">
        <button onclick="dealCards()">Draw Three Cards</button>
    </div>

    <div class="spread-container" id="spreadContainer">
        <div style="color: #888; text-align: center; font-style: italic; margin-top: 20px;">
            Focus on your question and tap the button above.
        </div>
    </div>

<script>
    // --- DATA ---
    
    // 1. MAJOR ARCANA (Transcribed from your Book)
    const majorArcana = [
        {name: "0. The Fool", symbol: "ðŸ¤¡", mean: "Folly, mania, extravagance, intoxication, delirium, frenzy, bewrayment.", rev: "Negligence, absence, distribution, carelessness, apathy, nullity, vanity."},
        {name: "I. The Magician", symbol: "ðŸ§™", mean: "Skill, diplomacy, address, sickness, pain, loss, disaster, self-confidence, will, the Querent himself (if male).", rev: "Physician, Magus, mental illness, disgrace, disquiet."},
        {name: "II. The High Priestess", symbol: "ðŸŒ™", mean: "Secrets, mystery, the future as yet unrevealed, the woman who interests the Querent (if male); the Querent (if female) silence, tenacity; wisdom, science.", rev: "Passion, moral or physical ardor, conceit, surface knowledge."},
        {name: "III. The Empress", symbol: "ðŸ‘‘", mean: "Fruitfulness, initiative, action, long days, clandestine, the unknown, difficulty, doubt, ignorance.", rev: "Light, truth, the unraveling of involved matters, public rejoice, also, according to another readingâ€”vacillation."},
        {name: "IV. The Emperor", symbol: "ðŸ°", mean: "Stability, power, aid, protection, a great person, conviction, reason.", rev: "Benevolence, compassion, credit, also confusion to enemies, obstruction, immaturity."},
        {name: "V. The Hierophant", symbol: "â›ª", mean: "Marriage alliance, captivity, servitude, mercy and goodness, inspiration, the man to whom the Querent has recourse.", rev: "Society, good understanding, concord, over-kindness, weakness."},
        {name: "VI. The Lovers", symbol: "â¤ï¸", mean: "Attraction, love, beauty, trials overcome.", rev: "Failure, foolish designs."},
        {name: "VII. The Chariot", symbol: "ðŸ›’", mean: "Succor, providence, also war, triumph, presumption, vengeance, trouble.", rev: "Riot, quarrel, dispute, litigation, defeat."},
        {name: "VIII. Strength", symbol: "ðŸ¦", mean: "Power, energy, action, courage, magnanimity.", rev: "Abuse of power, despotism, weakness, discord."},
        {name: "IX. The Hermit", symbol: "ðŸ•¯ï¸", mean: "Prudence, also and especially treason, dissimulation, corruption, roguery.", rev: "Concealment, disguise, policy, fear, unreasoned caution."},
        {name: "X. Wheel of Fortune", symbol: "ðŸŽ¡", mean: "Destiny, fortune, success, luck, felicity.", rev: "Increase, abundance, superfluity."},
        {name: "XI. Justice", symbol: "âš–ï¸", mean: "Equity, rightness, probity, executive.", rev: "Law in all departments, bigotry, bias, excessive severity."},
        {name: "XII. The Hanged Man", symbol: "ðŸ™ƒ", mean: "Wisdom, trials, circumspection, discernment, sacrifice, intuition, divination, prophecy.", rev: "Selfishness, the crowd, body politic."},
        {name: "XIII. Death", symbol: "ðŸ’€", mean: "End, mortality, destruction, corruption.", rev: "Inertia, sleep, lethargy, petrifaction, somnambulism."},
        {name: "XIV. Temperance", symbol: "ðŸ·", mean: "Economy, moderation, frugality, management, accommodation.", rev: "Things connected with churches, religions, sects, the priesthood, also unfortunate combinations, disunion, competing interests."},
        {name: "XV. The Devil", symbol: "ðŸ˜ˆ", mean: "Ravage, violence, force, vehemence, extraordinary efforts, fatality, that which is predestined but not for this reason evil.", rev: "Evil fatality, weakness, pettiness, blindness."},
        {name: "XVI. The Tower", symbol: "âš¡", mean: "Misery, distress, ruin, indigence, adversity, calamity, disgrace, deception.", rev: "According to one account, the same in a lesser degree, also oppression, imprisonment, tyranny."},
        {name: "XVII. The Star", symbol: "â­", mean: "Loss, theft, privation, abandonment, although another reading suggests hope and bright prospects in the future.", rev: "Arrogance, impotence, haughtiness."},
        {name: "XVIII. The Moon", symbol: "ðŸŒ•", mean: "Hidden enemies, danger, calumny, darkness, terror, deception, error.", rev: "Instability, inconstancy, silence, lesser degrees of deception and error."},
        {name: "XIX. The Sun", symbol: "â˜€ï¸", mean: "Material happiness, fortunate marriage, contentment.", rev: "The same in a lesser sense."},
        {name: "XX. The Last Judgment", symbol: "ðŸŽº", mean: "Change of position, renewal, outcome.", rev: "Weakness, pusillanimity, simplicity, also deliberation, decision, sentence."},
        {name: "XXI. The World", symbol: "ðŸŒ", mean: "Assured success, route, voyage, emigration, flight, change of place.", rev: "Inertia, fixity, stagnation, permanence."}
    ];

    // 2. MINOR ARCANA (Researched & Generated)
    const minorArcana = [
        // CUPS
        {name: "Ace of Cups", symbol: "ðŸ†", mean: "New love, emotional awakening, creativity.", rev: "Wasted emotions, blocked creativity, emptiness."},
        {name: "Two of Cups", symbol: "ðŸ†", mean: "Unified love, partnership, mutual attraction.", rev: "Breakup, imbalance, misunderstanding."},
        {name: "Three of Cups", symbol: "ðŸ†", mean: "Celebration, friendship, community.", rev: "Gossip, isolation, overindulgence."},
        {name: "Four of Cups", symbol: "ðŸ†", mean: "Apathy, contemplation, ignoring opportunities.", rev: "Awareness, seizing the moment, motivation."},
        {name: "Five of Cups", symbol: "ðŸ†", mean: "Loss, grief, disappointment, regret.", rev: "Acceptance, moving on, forgiveness."},
        {name: "Six of Cups", symbol: "ðŸ†", mean: "Nostalgia, childhood memories, innocence.", rev: "Stuck in the past, naivety, unrealistic expectations."},
        {name: "Seven of Cups", symbol: "ðŸ†", mean: "Choices, fantasy, illusion, wishful thinking.", rev: "Clarity, making a choice, reality check."},
        {name: "Eight of Cups", symbol: "ðŸ†", mean: "Walking away, disillusionment, leaving behind.", rev: "Fear of change, stagnation, fear of abandonment."},
        {name: "Nine of Cups", symbol: "ðŸ†", mean: "Contentment, satisfaction, gratitude.", rev: "Greed, dissatisfaction, smugness."},
        {name: "Ten of Cups", symbol: "ðŸ†", mean: "Divine love, blissful relationships, harmony.", rev: "Broken home, disharmony, disconnection."},
        {name: "Page of Cups", symbol: "ðŸ†", mean: "A messenger, birth of a child, new emotional experience, intuition.", rev: "Emotional immaturity, creative block, bad news."},
        {name: "Knight of Cups", symbol: "ðŸ†", mean: "Romance, charm, 'Knight in shining armor,' imagination.", rev: "Unrealistic expectations, jealousy, moodiness."},
        {name: "Queen of Cups", symbol: "ðŸ†", mean: "Compassion, calm, comfort, intuitive, emotional security.", rev: "Martyrdom, insecurity, dependence, smothering."},
        {name: "King of Cups", symbol: "ðŸ†", mean: "Emotional balance, compassion, diplomacy, a wise counselor.", rev: "Emotional manipulation, moodiness, volatility."},

        // PENTACLES
        {name: "Ace of Pentacles", symbol: "ðŸª™", mean: "New financial opportunity, manifestation, abundance.", rev: "Missed opportunity, scarcity mindset, delay."},
        {name: "Two of Pentacles", symbol: "ðŸª™", mean: "Balancing priorities, adaptability, time management.", rev: "Overcommitted, disorganization, reprioritizing."},
        {name: "Three of Pentacles", symbol: "ðŸª™", mean: "Teamwork, collaboration, learning.", rev: "Disharmony, working alone, competition."},
        {name: "Four of Pentacles", symbol: "ðŸª™", mean: "Security, conservation, frugality.", rev: "Greed, self-protection, spending."},
        {name: "Five of Pentacles", symbol: "ðŸª™", mean: "Financial loss, poverty, isolation, worry.", rev: "Recovery from loss, spiritual poverty ending."},
        {name: "Six of Pentacles", symbol: "ðŸª™", mean: "Generosity, charity, giving and receiving.", rev: "Debt, selfishness, strings attached."},
        {name: "Seven of Pentacles", symbol: "ðŸª™", mean: "Patience, perseverance, long-term view.", rev: "Lack of reward, distraction, impatience."},
        {name: "Eight of Pentacles", symbol: "ðŸª™", mean: "Apprenticeship, repetition, mastery, skill.", rev: "Perfectionism, misdirected effort, lack of focus."},
        {name: "Nine of Pentacles", symbol: "ðŸª™", mean: "Abundance, luxury, self-sufficiency.", rev: "Over-investment in work, financial setbacks."},
        {name: "Ten of Pentacles", symbol: "ðŸª™", mean: "Wealth, family legacy, long-term success.", rev: "Financial failure, instability, family dispute."},
        {name: "Page of Pentacles", symbol: "ðŸª™", mean: "Manifestation, financial opportunity, new job, study.", rev: "Lack of progress, procrastination, short-term focus."},
        {name: "Knight of Pentacles", symbol: "ðŸª™", mean: "Efficiency, hard work, routine, conservatism.", rev: "Laziness, boredom, feeling stuck, perfectionism."},
        {name: "Queen of Pentacles", symbol: "ðŸª™", mean: "Nurturing, practical, working parent, providing financially.", rev: "Financial independence, self-care, work-home conflict."},
        {name: "King of Pentacles", symbol: "ðŸª™", mean: "Wealth, business acumen, abundance, discipline.", rev: "Financially inept, obsessed with wealth, stubborn."},

        // WANDS
        {name: "Ace of Wands", symbol: "ðŸŒ¿", mean: "Inspiration, new opportunities, growth.", rev: "Delays, lack of motivation, weighed down."},
        {name: "Two of Wands", symbol: "ðŸŒ¿", mean: "Future planning, progress, decisions.", rev: "Fear of unknown, lack of planning."},
        {name: "Three of Wands", symbol: "ðŸŒ¿", mean: "Expansion, foresight, overseas opportunities.", rev: "Obstacles, delays, frustration."},
        {name: "Four of Wands", symbol: "ðŸŒ¿", mean: "Celebration, joy, harmony, homecoming.", rev: "Lack of support, transience, home conflicts."},
        {name: "Five of Wands", symbol: "ðŸŒ¿", mean: "Conflict, disagreements, competition.", rev: "Conflict avoidance, diversity, agreement."},
        {name: "Six of Wands", symbol: "ðŸŒ¿", mean: "Success, public recognition, confidence.", rev: "Egotism, fall from grace, lack of recognition."},
        {name: "Seven of Wands", symbol: "ðŸŒ¿", mean: "Challenge, competition, protection, perseverance.", rev: "Giving up, overwhelmed, defensiveness."},
        {name: "Eight of Wands", symbol: "ðŸŒ¿", mean: "Movement, fast paced change, action.", rev: "Delays, frustration, panic."},
        {name: "Nine of Wands", symbol: "ðŸŒ¿", mean: "Resilience, courage, persistence.", rev: "On edge, defensive, hesitant."},
        {name: "Ten of Wands", symbol: "ðŸŒ¿", mean: "Burden, extra responsibility, hard work.", rev: "Burning out, carrying the burden, delegation."},
        {name: "Page of Wands", symbol: "ðŸŒ¿", mean: "Discovery, enthusiasm, a messenger with good news.", rev: "Setbacks to new ideas, pessimism, lack of direction."},
        {name: "Knight of Wands", symbol: "ðŸŒ¿", mean: "Energy, passion, inspired action, adventure.", rev: "Passion project, haste, scattered energy."},
        {name: "Queen of Wands", symbol: "ðŸŒ¿", mean: "Courage, confidence, determination, social butterfly.", rev: "Shrinking violet, aggressive, demanding, jealous."},
        {name: "King of Wands", symbol: "ðŸŒ¿", mean: "Natural leader, visionary, entrepreneur, honor.", rev: "Impulsiveness, haste, ruthless, high expectations."},

        // SWORDS
        {name: "Ace of Swords", symbol: "âš”ï¸", mean: "Breakthrough, new idea, mental clarity.", rev: "Confusion, chaos, lack of clarity."},
        {name: "Two of Swords", symbol: "âš”ï¸", mean: "Difficult decisions, weighing options, impasse.", rev: "Indecision, confusion, overload."},
        {name: "Three of Swords", symbol: "âš”ï¸", mean: "Heartbreak, emotional pain, sorrow.", rev: "Negative self-talk, releasing pain, optimism."},
        {name: "Four of Swords", symbol: "âš”ï¸", mean: "Rest, relaxation, meditation.", rev: "Exhaustion, burnout, stress."},
        {name: "Five of Swords", symbol: "âš”ï¸", mean: "Conflict, tension, loss, defeat.", rev: "Open to change, past resentment, moving on."},
        {name: "Six of Swords", symbol: "âš”ï¸", mean: "Transition, change, rite of passage.", rev: "Emotional baggage, unresolved issues."},
        {name: "Seven of Swords", symbol: "âš”ï¸", mean: "Betrayal, deception, getting away with something.", rev: "Mental challenges, breaking free, coming clean."},
        {name: "Eight of Swords", symbol: "âš”ï¸", mean: "Negative thoughts, self-imposed restriction.", rev: "Self-acceptance, new perspectives, freedom."},
        {name: "Nine of Swords", symbol: "âš”ï¸", mean: "Anxiety, worry, fear, nightmares.", rev: "Hope, reaching out, despair."},
        {name: "Ten of Swords", symbol: "âš”ï¸", mean: "Betrayal, back-stabbing, defeat.", rev: "Reviving, rejuvenation, inevitable end."},
        {name: "Page of Swords", symbol: "âš”ï¸", mean: "Curiosity, mental energy, thirst for knowledge.", rev: "Deception, manipulation, all talk and no action."},
        {name: "Knight of Swords", symbol: "âš”ï¸", mean: "Ambition, action-oriented, driven to succeed.", rev: "Restless, unfocused, impulsive, burning out."},
        {name: "Queen of Swords", symbol: "âš”ï¸", mean: "Independent, unbiased judgement, clear boundaries.", rev: "Overly emotional, cold-hearted, bitter."},
        {name: "King of Swords", symbol: "âš”ï¸", mean: "Mental clarity, intellectual power, authority, truth.", rev: "Quiet power, inner truth, misuse of power."}
    ];

    const fullDeck = [...majorArcana, ...minorArcana];

    // --- LOGIC ---
    function shuffle(array) {
        let currentIndex = array.length, randomIndex;
        while (currentIndex != 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
        }
        return array;
    }

    function dealCards() {
        const container = document.getElementById('spreadContainer');
        
        // 1. Fade Out
        container.style.opacity = '0';
        
        setTimeout(() => {
            // 2. Clear & Prepare
            container.innerHTML = '';
            container.style.opacity = '1';

            const deck = shuffle([...fullDeck]); // Copy before shuffle
            const labels = ["Past", "Present", "Future"];

            // 3. Create Cards
            for (let i = 0; i < 3; i++) {
                const cardData = deck[i];
                const isReversed = Math.random() < 0.3; 
                
                const slot = document.createElement('div');
                slot.className = 'card-slot';

                const label = document.createElement('div');
                label.className = 'slot-label';
                label.innerText = labels[i];
                slot.appendChild(label);

                const cardEl = document.createElement('div');
                cardEl.className = `card ${isReversed ? 'is-reversed' : ''}`;
                
                cardEl.onclick = function() {
                    if (navigator.vibrate) navigator.vibrate(20);
                    this.classList.toggle('flipped');
                };

                // Front (Pattern)
                const faceFront = document.createElement('div');
                faceFront.className = 'card-face card-front';
                
                // Back (Content)
                const faceBack = document.createElement('div');
                faceBack.className = 'card-face card-back';
                
                const innerContent = document.createElement('div');
                innerContent.className = 'inner-content';
                
                // Name
                const nameEl = document.createElement('div');
                nameEl.className = 'card-name';
                nameEl.innerText = cardData.name;

                // Symbol
                const imgEl = document.createElement('div');
                imgEl.className = 'card-symbol';
                imgEl.innerText = cardData.symbol;

                // Reversed Tag
                const revTag = document.createElement('div');
                revTag.className = 'reversed-tag';
                revTag.innerText = "(Reversed)";

                // Meaning
                const descEl = document.createElement('div');
                descEl.className = 'card-desc';
                // Select specific text based on reversal
                descEl.innerText = isReversed ? cardData.rev : cardData.mean;

                innerContent.appendChild(nameEl);
                innerContent.appendChild(revTag);
                innerContent.appendChild(imgEl);
                innerContent.appendChild(descEl);
                
                faceBack.appendChild(innerContent);
                cardEl.appendChild(faceFront);
                cardEl.appendChild(faceBack);
                slot.appendChild(cardEl);
                container.appendChild(slot);

                // Animation
                slot.style.opacity = 0;
                slot.animate([
                    { transform: 'translateY(50px)', opacity: 0 },
                    { transform: 'translateY(0)', opacity: 1 }
                ], {
                    duration: 600,
                    delay: i * 200,
                    easing: 'ease-out',
                    fill: 'forwards'
                });
                slot.style.opacity = 1;
            }

            // Auto-scroll on mobile
            if(window.innerWidth < 768) {
                setTimeout(() => {
                    container.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }

        }, 300);
    }
</script>

</body>
</html>